<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>2026 IRS 15-T Fringe Tax Calculator (Semimonthly, Fringe-Only)</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; max-width:730px;}
    label { display:block; margin-top:10px;}
    select, input { margin-top: 3px; }
    .result { margin-top: 24px; background:#eef; padding:16px; max-width:480px;}
    .section { margin-bottom: 16px; }
  </style>
</head>
<body>
  <h2>Taxable Fringe Benefit Tax Calculator - 2026 Federal & State (Semimonthly)</h2>
  <form id="taxForm">
    <div class="section">
      <label>
        Fringe Benefit Value ($):
        <input type="number" id="fringe" min="0" step="0.01" required>
      </label>
      <label>
        Regular Wage This Paycheck ($, <em>before</em> fringe):
        <input type="number" id="baseWages" min="0" step="0.01" required>
      </label>
      <label>
        Pay Frequency: <b>Semimonthly</b>
      </label>
    </div>
    <div class="section">
      <label>
        Federal Withholding Method:
        <select id="fedMethod">
          <option value="flat">Flat Supplemental Rate (22%)</option>
          <option value="pub15t">Standard IRS 15-T Based (W-4 style, <b>2026 Semimonthly</b>)</option>
        </select>
      </label>
      <div id="w4options" style="display:none; margin-left:18px;">
        <label>
          Filing Status:
          <select id="filingStatus">
            <option value="single">Single or Married filing separately</option>
            <option value="married">Married filing jointly</option>
            <option value="head">Head of household</option>
          </select>
        </label>
        <label>
          Step 4(a): Other Income ($):
          <input type="number" id="w4OtherIncome" step="0.01" value="0">
        </label>
        <label>
          Step 4(b): Deductions ($):
          <input type="number" id="w4Deductions" step="0.01" value="0">
        </label>
        <label>
          Step 3: Dependents (total $2,000 for each child, $500 for others):
          <input type="number" id="w4Dependents" step="1" value="0">
        </label>
        <label>
          Extra withholding per pay period ($, W-4 Step 4c):
          <input type="number" id="w4Extra" step="0.01" value="0">
        </label>
      </div>
    </div>
    <div class="section">
      <label>
        State:
        <select id="stateSelect">
          <option value="">Select a state</option>
          <option value="5.0">Alabama</option>
          <option value="0.0">Alaska</option>
          <option value="2.6">Arizona</option>
          <option value="4.8">Arkansas</option>
          <option value="13.4">California</option>
          <option value="4.5">Colorado</option>
          <option value="7.0">Connecticut</option>
          <option value="6.7">Delaware</option>
          <option value="0.0">Florida</option>
          <option value="5.8">Georgia</option>
          <option value="11.1">Hawaii</option>
          <option value="5.9">Idaho</option>
          <option value="5.0">Illinois</option>
          <option value="3.3">Indiana</option>
          <option value="6.1">Iowa</option>
          <option value="5.8">Kansas</option>
          <option value="4.6">Kentucky</option>
          <option value="4.3">Louisiana</option>
          <option value="7.2">Maine</option>
          <option value="5.8">Maryland</option>
          <option value="9.1">Massachusetts</option>
          <option value="4.3">Michigan</option>
          <option value="9.9">Minnesota</option>
          <option value="5.1">Mississippi</option>
          <option value="5.0">Missouri</option>
          <option value="6.8">Montana</option>
          <option value="6.7">Nebraska</option>
          <option value="0.0">Nevada</option>
          <option value="4.1">New Hampshire</option>
          <option value="10.8">New Jersey</option>
          <option value="6.0">New Mexico</option>
          <option value="10.95">New York</option>
          <option value="4.6">North Carolina</option>
          <option value="2.95">North Dakota</option>
          <option value="4.0">Ohio</option>
          <option value="4.8">Oklahoma</option>
          <option value="9.95">Oregon</option>
          <option value="3.1">Pennsylvania</option>
          <option value="6.0">Rhode Island</option>
          <option value="6.6">South Carolina</option>
          <option value="0.0">South Dakota</option>
          <option value="0.0">Tennessee</option>
          <option value="0.0">Texas</option>
          <option value="4.9">Utah</option>
          <option value="8.8">Vermont</option>
          <option value="5.8">Virginia</option>
          <option value="7.1">Washington</option>
          <option value="6.6">West Virginia</option>
          <option value="7.7">Wisconsin</option>
          <option value="0.0">Wyoming</option>
          <option value="10.9">District of Columbia</option>
        </select>
      </label>
      <label>
        State Withholding Rate (%):
        <input type="number" id="stateRate" min="0" max="100" step="0.01" value="5">
      </label>
    </div>
    <button type="submit">Calculate Taxes</button>
  </form>
  <div class="result" id="result" style="display:none;"></div>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Draft 2026 IRS Pub 15-T Percentage Method Semimonthly (for demo; update if needed)
  const IRS_15T_2026 = {
    semimonthly: {
      single:    { stdDeduction: 203.00, brackets: [
        { upTo: 205,      base: 0,        percent: 0,    over: 205 },
        { upTo: 657,      base: 0,        percent: .10,  over: 205 },
        { upTo: 2052,     base: 45.20,    percent: .12,  over: 657 },
        { upTo: 4680,     base: 238.70,   percent: .22,  over: 2052 },
        { upTo: 10600,    base: 892.05,   percent: .24,  over: 4680 },
        { upTo: 13100,    base: 2176.50,  percent: .32,  over: 10600 },
        { upTo: 22250,    base: 5058.20,  percent: .35,  over: 13100 },
        { upTo: Infinity, base: 8033.06,  percent: .37,  over: 22250 }
      ]},
      married:  { stdDeduction: 406.00, brackets: [
        { upTo: 657,      base: 0,         percent: 0,    over: 657 },
        { upTo: 2370,     base: 0,         percent: .10,  over: 657 },
        { upTo: 6980,     base: 171.30,    percent: .12,  over: 2370 },
        { upTo: 11092,    base: 758.40,    percent: .22,  over: 6980 },
        { upTo: 20260,    base: 1819.45,   percent: .24,  over: 11092 },
        { upTo: 25380,    base: 4261.00,   percent: .32,  over: 20260 },
        { upTo: 37200,    base: 6234.00,   percent: .35,  over: 25380 },
        { upTo: Infinity, base: 10554.45,  percent: .37,  over: 37200 }
      ]},
      head:     { stdDeduction: 305.00, brackets: [
        { upTo: 462,      base: 0,        percent: 0,    over: 462 },
        { upTo: 1978,     base: 0,        percent: .10,  over: 462 },
        { upTo: 4357,     base: 151.60,   percent: .12,  over: 1978 },
        { upTo: 11138,    base: 438.31,   percent: .22,  over: 4357 },
        { upTo: 13020,    base: 2003.91,  percent: .24,  over: 11138 },
        { upTo: 22725,    base: 2453.41,  percent: .32,  over: 13020 },
        { upTo: 26570,    base: 5447.70,  percent: .35,  over: 22725 },
        { upTo: Infinity, base: 6727.55,  percent: .37,  over: 26570 }
      ]}
    }
  };

  function pub15t2026FedWithholding(taxable, frequency, filingStatus, depAdj, w4extra) {
    let table = IRS_15T_2026[frequency] && IRS_15T_2026[frequency][filingStatus];
    if (!table) return 0;
    let adjTaxable = taxable - table.stdDeduction - depAdj;
    if(adjTaxable <= 0) return w4extra || 0;
    let bracket = table.brackets.find(b => adjTaxable <= b.upTo);
    if (!bracket) bracket = table.brackets[table.brackets.length-1];
    let calcTax = bracket.base + bracket.percent * (adjTaxable - bracket.over);
    if(w4extra) calcTax += w4extra;
    return calcTax;
  }

  function fedMethodChange() {
    const method = document.getElementById("fedMethod").value;
    document.getElementById("w4options").style.display = (method === "pub15t") ? "" : "none";
  }
  fedMethodChange();
  document.getElementById("fedMethod").addEventListener("change", fedMethodChange);

  function populateStateRate() {
    var stateDropdown = document.getElementById("stateSelect");
    var stateRate = document.getElementById("stateRate");
    var selectedRate = stateDropdown.value;
    if(selectedRate !== "") {
      stateRate.value = selectedRate;
    } else {
      stateRate.value = "";
    }
  }
  document.getElementById("stateSelect").addEventListener("change", populateStateRate);

  document.getElementById("taxForm").addEventListener("submit", function(event){
    event.preventDefault();
    const fringe = parseFloat(document.getElementById("fringe").value) || 0;
    const baseWages = parseFloat(document.getElementById("baseWages").value) || 0;
    const totalWages = baseWages + fringe;
    const payFreq = "semimonthly";
    const fedMethod = document.getElementById("fedMethod").value;
    let fedTaxOnFringe = 0, fedDescription = "", fedTaxTotal = 0, fedTaxBase = 0;
    if (fedMethod === "flat") {
      fedTaxOnFringe = fringe * 0.22;
      fedDescription = "Flat Supplemental Rate (22%)";
      fedTaxTotal = fedTaxOnFringe;
    } else {
      const filingStatus = document.getElementById("filingStatus").value;
      const w4OtherIncome = parseFloat(document.getElementById("w4OtherIncome").value) || 0;
      const w4Deductions = parseFloat(document.getElementById("w4Deductions").value) || 0;
      const w4Dependents = parseFloat(document.getElementById("w4Dependents").value) || 0;
      const w4Extra = parseFloat(document.getElementById("w4Extra").value) || 0;
      let depAdj = w4Dependents;
      let taxableWithFringe = totalWages + w4OtherIncome - w4Deductions;
      let taxableWithoutFringe = baseWages + w4OtherIncome - w4Deductions;
      // Compute total federal tax for (salary+fringe), then for salary only. Difference is the tax on just the fringe
      let fedWithFringe = pub15t2026FedWithholding(taxableWithFringe, payFreq, filingStatus, depAdj, w4Extra);
      let fedWithoutFringe = pub15t2026FedWithholding(taxableWithoutFringe, payFreq, filingStatus, depAdj, w4Extra);
      fedTaxOnFringe = fedWithFringe - fedWithoutFringe;
      fedTaxBase = fedWithoutFringe;
      fedTaxTotal = fedWithFringe;
      fedDescription = "IRS 15-T 2026 Percentage Method (Semimonthly, Tax on Fringe Only)";
    }
    const stateRate = (parseFloat(document.getElementById("stateRate").value) || 0) / 100;
    const stateTax = fringe * stateRate;
    const ssRate = 0.062;
    const medicareRate = 0.0145;
    const ssTax = fringe * ssRate;
    const medicareTax = fringe * medicareRate;
    const totalTax = fedTaxOnFringe + stateTax + ssTax + medicareTax;
    function f(num) { return "$" + num.toFixed(2); }
    document.getElementById("result").innerHTML =
      "<b>Taxes on Fringe Value Only (2026 rates):</b><br>" +
      "Fringe Benefit: " + f(fringe) + "<br>" +
      "Federal Withholding: " + f(fedTaxOnFringe) + " <span style='font-size:90%'>("+fedDescription+")</span><br>" +
      "State Withholding: " + f(stateTax) + " (" + (stateRate*100).toFixed(2) + "%)<br>" +
      "Social Security (6.2%): " + f(ssTax) + "<br>" +
      "Medicare (1.45%): " + f(medicareTax) + "<br>" +
      "<b>Total Taxes Withheld on Fringe: " + f(totalTax) + "</b><br>";
    document.getElementById("result").style.display = "";
  });
});
</script>
</body>
</html>
